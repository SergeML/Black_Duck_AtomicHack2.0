# Black_Duck_AtomicHack2.0. Детекция дефектов сварных швов.

## Описание задачи

При выполнении сварных швов возникают дефекты. Первый этап контроля качества сварных швов – это визуальный измерительный контроль, когда дефектоскопист визуально осматривает швы на предмет обнаружения дефектов. Часть дефектов может быть пропущена при осмотре, что может критически сказаться на качестве выпускаемой продукции. 

Также при обучении сварке человек допускает большое количество дефектов в сварных швах. В силу недостатка опыта он может не определить или неправильно определить часть дефектов. Соответственно, не понимая, какие дефекты он допустил, он не может понять причину их возникновения и найти пути решения.

В рамках хакатона требовалось разработать решение, которое бы позволяло определять дефекты сварных швов с помощью ИИ путём анализа фотографий выполненых сварных швов и позволяло получать обратную связь от платформы с указанием локации дефектов, объяснения типичных причин их возникновения и методов устранения этих причин.

## Описание решения

Разработанное решение предстваляет собой комплекс, состояший из **локального портативного приложения** и **telegram-бота**. 

* Локальное приложение позволяет автоматически и точно детектировать дефекты сварных швов на деталях, сборочных единицах и изделиях, даже прямо на участке сварочных работ с ноутбука или другого устройства, что позволяет ощутимо ускорить производственный цикл. При этом имеется возможность формирования отчётов по проделанным анализам и выгрузке в локальное пространство или БД.

* Telegram-бот позволяет работать работать прямо с телефона или других устройств, поддерживающих Telegram, через интуитивный UI чата в мессенджере. Бот имеет ученический режим, дополняющий детекцию дефектов ещё и отображением подсказок, помогающих ученику избежать выявленных ошибок в дальнейшем. Тем самым бот призван улучшаить образовательный опыт и результат учеников. Также бот может дублировать и основной промышленный режим с формированием отчётов, предоставляя сотрудникам больше гибкости в организации рабочих процессов и, соответственно, перспективы для их оптимизации для сокращения времязатрат на операции визуального контроля качества сварных швов в производственном цикле изделия.


Решение использует каскадный ансамбль моделей, представляющих простые маски-свертки и предобученные передовые нейросетевые модели для задач детекции и сегментации, дообученные на данных заказчика для классификации наличия дефекта, классификации каждого типа дефект и его последующей детекции в кадре.

С помощью этого решения можно быстро и качественно выявлять дефекты сварных швов в широком наборе сценариев. Это в последствии поможет ускорить цикл производства за счет увелечения скорости трудоемкой и ответсвенной операции диагностики дефектов сварных швов и возможности сокращения издержек на транспортировку объекта исследования до стенда дефектоскопии за счёт возможности мобильного контроля качества.

Стек технологий: Python, OpenCV, YOLOv8, YOLOv10, PyQt, aiogram, 1c

Уникальность нашего решения заключается в декомпозиции задачи детекции дефектов на набор более простых задач машинного обучения и их последовательного решения, что позволяет достичь более высокого качества решения конечной задачи. А несколько вариантов практической реализации не только позволяют решать все поставленные заказчиком бизнес-задачи, но и обеспечивают большую гибкость сценариев использования продукта на производстве, а также удобство конечных пользователей.


## Установка

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/SergeML/Black_Duck_AtomicHack2.0.git
    ```

2. Перейдите в директорию проекта:
    ```bash
    cd Black_Duck_AtomicHack2.0
    ```

3. Установите необходимые библиотеки:
    ```bash
    pip install -r requirements.txt
    ```

## Использование приложения

Для запуска приложения выполните команду:
```bash
python application/main.py
```

## Использование telegram-бота

Для развёртывания telegram-бота выполните команду:
```bash
python bot_petrovich/main.py
```
